{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lista de Archivos</title>
    <style>
        .thumbnail {
            width: 100px;
            height: 100px;
            object-fit: cover;
        }
    </style>
</head>
<body>
    <h1>Archivos</h1>
    <ul>
        {% for archivo in archivos %}
            <li>
                {% if archivo.es_imagen %}
                    <img src="{{ archivo.url }}" alt="{{ archivo.nombre }}" class="thumbnail">
                {% elif archivo.es_pdf %}
                    <img src="{% static 'imagenes/pdf_icon.png' %}" alt="PDF" class="thumbnail">
                {% elif archivo.es_video %}
                    <img src="{% static 'imagenes/video_icon.png' %}" alt="Video" class="thumbnail">
                {% elif archivo.es_documento %}
                    <img src="{% static 'imagenes/word_icon.png' %}" alt="Documento" class="thumbnail">
                {% else %}
                    <span>No hay miniatura disponible</span>
                {% endif %}
                <a href="{{ archivo.archivo.url }}" target="_blank">{{ archivo.nombre }}</a>
                <form method="POST" style="display:inline;" action="{% url 'eliminar_archivo' archivo.id %}">
                    {% csrf_token %}
                    <button type="submit">Eliminar</button>
                </form>
            </li>
        {% empty %}
            <li>No hay archivos subidos a√∫n.</li>
        {% endfor %}
    </ul>
</body>
</html>
